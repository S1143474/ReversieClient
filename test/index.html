<html>
    <head>
        <link rel="shortcut icon" type="image/png" href="jasmine/lib/jasmine/jasmine_favicon.png">
        <link rel="stylesheet" type="text/css" href="jasmine/lib/jasmine/jasmine.css">

        <script type="text/javascript" src="jasmine/lib/jasmine/jasmine.js"></script>
        <script type="text/javascript" src="jasmine/lib/jasmine/jasmine-html.js"></script>
        <script type="text/javascript" src="jasmine/lib/jasmine/boot.js"></script>
        <script type="text/javascript" src="app.js"></script>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.js"></script>

        <!-- Latest compiled and minified CSS -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
              integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

        <!-- Optional theme -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css"
              integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

        <!-- Latest compiled and minified JavaScript -->
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"
                integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
                crossorigin="anonymous"></script>

        <script type="text/javascript" src="../dist/js/app.js"></script>

    </head>
    <body>
        <div id="feedback-success" class="alert alert-success" role="alert" style="display: none">
            <p>Veel succes met deze module!</p>
        </div>

        <script>

            beforeAll(function (done) {
                $(function () {
                    done();
                });
            });

            describe("A suite", function() {
                it("contains spec with an expectation", function() {
                    expect(true).toBe(true);
                });
            });

            describe("Application initialisation", function() {
                it("Method init returns true", function() {
                    const result = myApp.init();
                    expect(result).toBe(true);
                });
            });

            describe("FeedbackWidget", function () {
               it("FeedbackWidget display is none", function () {
                    let feedbackWidget = new FeedbackWidget('feedback-success')
                    expect($(feedbackWidget)).toBeDefined();
                });

                it('should hide feedbackWidget', function () {
                    let feedbackWidget = new FeedbackWidget('feedback-success');
                    feedbackWidget.hide();

                    expect($('#feedback-success').attr('style')).toBe('display: none');
                });
            });

            describe("Fiche", () => {
                it("Fiche object exists", () => {
                    // Arrange
                    let fiche = new Fiche("<td><div class='fiche'></div></td>", 1);
                    
                    // Assert
                    expect(fiche).toBeDefined();
                });

                describe("Fiche Coords", () => {
                    it("(id: 1) x = 1, y = 0", () => {
                        // Arrange
                        let fiche = new Fiche("<td><div class='fiche'></div></td>", 1);
                        
                        // Act
                        fiche.hoverFiche(1);

                        // Assert
                        expect(fiche.x).toBe(1);
                        expect(fiche.y).toBe(0);
                    });

                    it("(id: 9) x = 1, y = 1", () => {
                        // Arrange
                        let fiche = new Fiche("<td><div class='fiche'></div></td>", 9);
                        
                        // Act
                        fiche.hoverFiche(1);

                        // Assert
                        expect(fiche.x).toBe(1);
                        expect(fiche.y).toBe(1);
                    });

                    it("(id: 64) x = 7, y = 7", () => {
                        // Arrange
                        let fiche = new Fiche("<td><div class='fiche'></div></td>", 63);
                        
                        // Act
                        fiche.hoverFiche(1);

                        // Assert
                        expect(fiche.x).toBe(7);
                        expect(fiche.y).toBe(7);
                    });

                    it("(id: 21) x = 3, y = 7", () => {
                        // Arrange
                        let fiche = new Fiche("<td><div class='fiche'></div></td>", 21);
                        
                        // Act
                        fiche.hoverFiche(1);

                        // Assert
                        expect(fiche.x).toBe(5);
                        expect(fiche.y).toBe(2);
                    });
                });

                // it("Fiche object hover class added", () => {
                    
                // });
            });
        </script>
    </body>
</html>